---
title: "NDH802 - Assignment 1"
author: "Group no. "
output: pdf_document

---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

********

* The assignment includes 2 questions, 6 points each.
* Submit your assignment via Canvas before 17:00 CET, April 12, 2021.
* Your submission should include (1) an RMarkdown file with your solutions in words and/or R code, (2) a knitted pdf file and (3) your handwritten solution if you have one. Name the files NDH802_Assignment1_GroupNumber.
* You should work in groups and contribute equally.
* You can copy code from "Hello R!", but make sure you understand it.
* You should not have the exact solutions and/or results with other groups.

********

### Set things up
Set your working directory
```{r}
#setwd("")
```

Load the package(s) you're going to use. If you don't use any packages, leave it as is.
```{r, message=FALSE, warning=FALSE}
#library(tidyverse)
```

Run this code chunk to load data into your R Environment. The command will randomly select 1,000,000 rows of data from the original data set, i.e., everytime you run the code, you have a new (unique) data set `df`. Accordingly, your results should be different from your friends and you should not be comparing them.
```{r}
inference_dataset <- read.csv("~/Desktop/Data/NDH802/inference_dataset.csv")
df <- inference_dataset[sample(1:nrow(inference_dataset),
                           size = 1000000,
                           replace = FALSE), -1]
rm(inference_dataset)
```

Please refer to [Canvas]() for more details about the data set.

\newpage
### Question 1. Mean and variance

(a) Plot the histogram of customer's `value`. Imagine you will present this to your boss at work. Make it readable and self-explanatory (e.g., add the title for the chart and labels for the axes where needed). (1p)
(b) Make a box plot for `visits` for 2 groups, loyal and not loyal customers. (1p)  
Imagine you are the customer relationship manager. What would you say about this figure? (1p)
(c) Compute the mean and variance of `value`, `deals`, `points`. Be careful, variance is **not** standard deviation. (1p)
(d) Compute the mean and variance of `value`, `deals`, `points` of the *loyal* customers. (1p)
(e) Compute the mean and variance of `value`, `deals`, `points` of the *loyal* customers who *shop offline*. (1p) 
(f) Imagine you receive this figure from your data analyst and you need to explain it to your boss. What would you say? (1p) 
```{r, echo=FALSE, fig.align='center', out.width="70%"}
set.seed(8); toplot = df[sample(1:nrow(df), size = 20000, replace = FALSE),]
plot(toplot$visits, toplot$items, pch = 19, col = rgb(0.2, 0.45, 0.55, 0.15), xlim = c(0,150), ylim = c(0,500),
     xlab = "visits", ylab = "items")
```

### Question 2. Probability theory
(a) How many loyal and not loyal customer do you have in your `df`? Formally, compute $N_{loyal}$ and $N_{not\_loyal}$. (1p)  

| For Q2b-f, consider the following events in your `df`:
\begin{itemize}
  \item[] (E1) Being loyal customer  
  \item[] (E2) Not being loyal customer  
  \item[] (E3) Shop offline
  \item[] (E4) Shop online  
\end{itemize}

(b) Are E1 and E2 mutually exclusive? Why/why not? (1p) 
(c) Are E1 and E2 collectively exhaustive? Why/why not? (1p) 
(d) Are E3 and E4 mutually exclusive? Why/why not? (1p) 
(e) Are E3 and E4 collectively exhaustive? Why/why not? (1p) 
(f) Are E1 and E4 mutually exclusive? Why/why not? (1p) 

| For Q2b-f, you can write the solutions using formulas, words, Venn diagrams, code, numbers or the combination of them, whichever expresses your rationales the best. If you find handwriting more convenient, feel free to do so and attach a photo of it in the submission. 

\vfill
*Have fun and good luck!*  
*Huong and Emelie*