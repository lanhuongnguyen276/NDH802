---
title: "Law of large number at a glance"
author: "NDH802 R Application"
output: html_document
runtime: shiny
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
#setwd("~/Documents/GitHub/NDH802")
if(!require(shiny)){
    install.packages("shiny")
    library(shiny)
}
```

<br>

## Visual Illustrations

Below are some demos of some of the distributions we have learned in this course. You can adjust the parameters and sample size and observe the changes in the sample mean and the probability distribution.

### Bernoulli distribution

```{r bern, echo=FALSE, out.width=0.1}
sliderInput(
  "p_bern",
  label = "Parameter p:",
  min = 0,
  max = 1,
  value = 0.5,
  step = 0.01
)
sliderInput(
  "n_bern",
  label = "Number of observations:",
  min = 1,
  max = 10000,
  value = 100,
  step = 1
)

#set.seed(2706)
renderPlot(barplot(
  table(rbinom(input$n_bern, 1, input$p_bern)),
  main = paste(
    "Bernoulli distribution with",
    input$n_bern,
    "observation(s).",
    "Sample mean =",
    round(mean(rbinom(input$n_bern, 1, input$p_bern)), digits = 5)
  ),
  xlab = "", col = "lightblue3", border = F,
))
```

### Binomial distribution

Note: For illustration purpose, number of trials is fixed at 100.

```{r bin, echo=FALSE, out.width=0.1}
sliderInput(
  "p_bin",
  label = "Parameter p:",
  min = 0,
  max = 1,
  value = 0.5,
  step = 0.01
)
sliderInput(
  "n_bin",
  label = "Number of observations:",
  min = 1,
  max = 10000,
  value = 100,
  step = 1
)

#set.seed(2706)
renderPlot(barplot(
  table(rbinom(input$n_bin, 100, input$p_bin)),
  main = paste(
    "Binomial distribution with 100 trials and",
    input$n_bin,
    "observation(s).",
    "Sample mean =",
    round(mean(rbinom(input$n_bin, 100, input$p_bin)), digits = 5)
  ),
  xlab = "", col = "darkseagreen", border = F,
))
```

### Standard normal distribution

```{r norm, echo=FALSE}
sliderInput(
  "n_norm",
  label = "Number of observations:",
  min = 1,
  max = 10000,
  value = 1000,
  step = 1
)

renderPlot(hist(
  rnorm(input$n_norm), breaks = 50,
  main = paste(
    "Standard normal distribution with",
    input$n_norm,
    "observation(s).",
    "Sample mean =",
    round(mean(rnorm(input$n_norm)), digits = 5)
  ), xlab = "", col = "pink3", border = F,
))
```

## Key takeaways:

**Notice that sample mean** $\bar{X}$ **gets closer and closer to the population mean when the number of observation** $n$ **increases.** **However,** $\bar{X}$ **will *never* be equal to** $\mu$**.** If you're wondering how large is *large* and how close is *close*, check out the the Central Limit Theorem.

*Huong*

Ps: We hope the code didn't freak you out. No worries, they are not parts of this course :)
