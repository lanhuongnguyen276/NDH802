---
title: "NDH802 - Hypothesis testing"
author: "Huong"
output:
  prettydoc::html_pretty:
    theme: hpstr
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## 9.55

*A random sample of 10 students contains the following observations, in hours, for time spent studying in the week before final exams:*

*28 57 42 35 61 39 55 46 49 38*

\$\$*Assume that the population distribution is normal.*

a.  Find the sample mean and standard deviation.

    ```{r}
    sample = c(28,57,42,35,61,39,55,46,49,38) #input the assumptions
    mu_0 = mean(sample) #we learnt this from R live session 1
    sd = sd(sample)  #we learnt this from R live session 1
    ```

b.  Test, at the 5% significance level, the null hypothesis that the population mean is 40 hours against the alternative that it is higher.

```{=tex}
\begin{align*}
H_o: \mu =40\\
H_1: \mu>40
\end{align*}
```
[R shortcuts:]{.ul}

```{r}
ttest = t.test(sample, mu = 40, alternative = "greater")
ttest$p.value
```

Because the p-value is higher than $\alpha =$ 0.05, we fail to reject the null hypothesis.

[By hand:]{.ul}

```{r}
n = 10
mu = 40

t = (mu_0 - mu)/(sd/sqrt(n)) #just plug in the numbers
t_score = qt(p = 0.95, df = n-1) #use the t-table as you prefer
```

Because `t_score` = `r t_score` is higher than `t` = `r t`, we fail to reject the null hypothesis.

## 10.4

```{=tex}
\begin{align*}
H_o: \mu_1 < \mu_2 \\
H_1: \mu_1 \ge \mu_2
\end{align*}
```
```{r}
#load data into your Global environment
price <- read.csv("https://raw.githubusercontent.com/lanhuongnguyen276/NDH802/master/Exercises/House_Selling_Price.csv")[, -1]

#t.test on all data
t.test(price$Sale.1.Price,
       price$Sale.2.Price,
       paired = TRUE, alternative = "g")

#t.test on Atlanta data
t.test(price[price$Atlanta == 1, "Sale.1.Price"],
       price[price$Atlanta == 1, "Sale.2.Price"],
       paired = TRUE, alternative = "g")
```

## 10.34

```{r}
nutrition <- read.csv("https://raw.githubusercontent.com/lanhuongnguyen276/NDH802/master/Exercises/Food_Nutrition_Atlas.csv")[, -1]
summary(nutrition)
```

```{=tex}
\begin{align*}
H_o: \mu_{adult-metro} = \mu_{adult-nonmetro}\\
H_1: \mu_{adult-metro} \ne \mu_{adult-nonmetro}
\end{align*}
```
```{r}
adult_metro = nutrition[nutrition$metro == 1, "PCT_OBESE_ADULTS"]
adult_nonmetro = nutrition[nutrition$metro == 0, "PCT_OBESE_ADULTS"]
t.test(adult_metro, adult_nonmetro)
```

```{=tex}
\begin{align*}
H_o: \mu_{adult-metro} = \mu_{adult-nonmetro}\\
H_1: \mu_{adult-metro} \ne \mu_{adult-nonmetro}
\end{align*}
```
```{r}
child_metro = nutrition[nutrition$metro == 1, "PCT_Child_OBESITY"]
child_nonmetro = nutrition[nutrition$metro == 0, "PCT_Child_OBESITY"]
t.test(child_metro, child_nonmetro)
```

## 10.48

```{=tex}
\begin{align*}
H_o: \mu_{SalesO} = \mu_{SalesC}\\
H_1: \mu_{SalesO} \ge \mu_{SalesO}
\end{align*}
```
